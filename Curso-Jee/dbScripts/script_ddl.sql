
CREATE TABLE TB_UF
(
	id INTEGER NOT NULL GENERATED BY DEFAULT AS IDENTITY (START WITH 10000, INCREMENT BY 1),
	sigla VARCHAR (2) NOT NULL,
	CONSTRAINT pk_tb_uf PRIMARY KEY (id)
);


CREATE TABLE TB_CIDADE
(
	id INTEGER NOT NULL GENERATED BY DEFAULT AS IDENTITY (START WITH 10000, INCREMENT BY 1),
	nome VARCHAR (50) NOT NULL,
	id_uf INTEGER NOT NULL,
	CONSTRAINT pk_tb_cidade PRIMARY KEY (id),
	CONSTRAINT fk_uf       FOREIGN KEY (id_uf) REFERENCES TB_UF(id)
); 

CREATE TABLE TB_PESSOA
(
	id INTEGER NOT NULL GENERATED BY DEFAULT AS IDENTITY (START WITH 10000, INCREMENT BY 1),
	nome VARCHAR (100) NOT NULL,
	id_cidade INTEGER,
	DT_NASCIMENTO date,
	CPF VARCHAR (11),
	EMAIL VARCHAR (30),
	CONSTRAINT pk_tb_pessoa PRIMARY KEY (id),
	CONSTRAINT fk_pessoa_cidade FOREIGN KEY (id_cidade) REFERENCES TB_CIDADE(id)
);

CREATE TABLE TB_SERVIDOR
(	
	id INTEGER NOT NULL,
	matricula VARCHAR (10) NOT NULL,
	situacao char(1) NOT NULL,
	CONSTRAINT pk_tb_servidor PRIMARY KEY (id),
	CONSTRAINT fk_serv_pessoa FOREIGN KEY (id) REFERENCES TB_PESSOA(id)
);

CREATE TABLE TB_DEPENDENTE
(	
	id INTEGER NOT NULL,
	id_servidor INTEGER NOT NULL,
	DT_INICIO date,
	CONSTRAINT pk_tb_dependente PRIMARY KEY (id),
	CONSTRAINT fk_depend_pessoa FOREIGN KEY (id) REFERENCES TB_PESSOA(id),
	CONSTRAINT fk_depend_servidor FOREIGN KEY (id_servidor) REFERENCES TB_SERVIDOR(id)
);

CREATE TABLE TB_PROJETO
(
	id INTEGER NOT NULL GENERATED BY DEFAULT AS IDENTITY (START WITH 10000, INCREMENT BY 1),
	nome VARCHAR (100) NOT NULL,
	sigla VARCHAR (10) NOT NULL,
	concluido CHAR(1),
	CONSTRAINT pk_projeto PRIMARY KEY (id)
);

CREATE TABLE TB_PROJETO_SERVIDOR
(	
	id_servidor INTEGER,
	id_projeto INTEGER,
	CONSTRAINT pk_projeto_servidor PRIMARY KEY (id_servidor, id_projeto),
	CONSTRAINT fk_proj_serv_projeto FOREIGN KEY (id_projeto) REFERENCES TB_PROJETO(id),
	CONSTRAINT fk_proj_serv_servidor FOREIGN KEY (id_servidor) REFERENCES TB_SERVIDOR(id)
);
